"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window;var util={throttle:function(a,l,c){function i(){y=!1===c.leading?0:Date.now(),f=null,u=a.apply(p,s),f||(p=s=null)}var p,s,u,f=null,y=0;return c=c||{},function(){var t=Date.now(),e=(y||!1!==c.trailing||(y=t),l-(t-y));p=this;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return s=o,e<=0||l<e?(f&&(clearTimeout(f),f=null),y=t,u=a.apply(p,s),f||(p=s=null)):f||!1===c.trailing||(f=setTimeout(i,e)),u}},delegateEvent:function(t,o,e,r){var n;Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n}),e=e,n=function(t){for(var t=t||window.event,e=t.target||t.srcElement,n=t.currentTarget;!e.matches(o);){if(e===n){e=null;break}e=e.parentNode}e&&r.call(e,Array.prototype.slice.call(arguments))},(t=t).addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},ajax:function(){var y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){var t=y.method,t=void 0===t?"get":t,o=y.url,r=y.params,a=y.data,l=y.headers,c=void 0===l?{}:l,i=new XMLHttpRequest;if(r){var p,s=[];for(p in r){var u=r[p];s.push("".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(u)))}o="".concat(o,"?").concat(s.join("&"))}if(i.open(t,o),c.Accept="application/json, text/plain, */*","get"===t.toLowerCase()?a=null:a instanceof FormData||("string"==typeof a?c["Content-type"]="application/x-www-form-urlencoded;":a="object"===_typeof(a)?(c["Content-type"]="application/json;",JSON.stringify(a)):null),c)for(var f in c)i.setRequestHeader(f,c[f]);i.send(a),i.addEventListener("load",function(){var t;4==i.readyState&&(200<=i.status&&i.status<300?(t=JSON.parse(i.responseText),e(t)):n(new Error("请求失败，状态代码为 ".concat(i.status))))})})}};